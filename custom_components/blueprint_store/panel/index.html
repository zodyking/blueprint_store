<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Blueprint Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/shoelace-autoloader.js"></script>

  <style>
    :root{
      --blue-1:#0a5bd8; --blue-2:#0d3b8e; --ink:#e6f0ff; --muted:#b9c7e6;
      --maxw:1200px;
      --card-bg: linear-gradient(180deg, rgba(10,20,52,.78), rgba(8,18,46,.80));
      --card-bd: rgba(170,200,255,.22);
      --shadow: 0 18px 50px rgba(6,16,50,.45);
      --panel: rgba(16,34,86,.98);
    }
    *{ box-sizing: border-box; }
    body{
      margin:0; color:var(--ink);
      font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Ubuntu, Arial;
      background: linear-gradient(180deg, var(--blue-1), var(--blue-2));
      min-height:100vh;
    }
    body::after{
      content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
      background-image:
        linear-gradient(to right, rgba(255,255,255,.12) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.12) 1px, transparent 1px);
      background-size: 28px 28px;
    }

    header{ position:sticky; top:0; z-index:8; backdrop-filter:blur(8px); border-bottom:1px solid #ffffff22; }
    .bar{ max-width:var(--maxw); margin:0 auto; padding:8px 12px;
      display:grid; grid-template-columns:auto 1fr auto auto auto; gap:10px; align-items:center; }
    .brand{ display:flex; gap:10px; align-items:center; font-weight:900; }
    .brand img{ width:28px; height:28px; border-radius:6px; }

    main{ max-width:var(--maxw); margin:12px auto 44px; padding:0 12px; }
    .banner{ margin:8px 0 12px; border-radius:16px; overflow:hidden; box-shadow:var(--shadow); border:1px solid #ffffff22; }
    .banner img{ width:100%; display:block; }

    .section-title{ margin:8px 0 8px; font-size:20px; font-weight:900; letter-spacing:.2px; }
    .cards-wrap{ position:relative; }
    .card{
      border-radius:18px; border:1px solid var(--card-bd); background:var(--card-bg);
      box-shadow: var(--shadow); padding:16px; margin:12px 0; overflow:hidden;
    }
    .card .title{ margin:0 0 4px; font-weight:900; font-size:18px; }
    .card .meta{ opacity:.92; font-weight:700; display:flex; align-items:center; gap:6px; }
    .row{ display:flex; gap:12px; align-items:baseline; flex-wrap:wrap; }

    #error,#empty{ text-align:center; color:#e7eefc; display:none; }
    #sentinel{ height:60px; }
    /* Shoelace input look tweaks */
    sl-input::part(base){ background:transparent; }
    sl-input::part(input){ color:#fff; }
    sl-button.plain::part(base){ background:transparent; color:#fff; border:none; box-shadow:none; padding-inline:10px; }
    sl-button.plain::part(base):hover{ text-decoration: underline; }
    sl-select{ --sl-panel-background-color: var(--panel); }
  </style>
</head>
<body>

<header>
  <div class="bar">
    <div class="brand">
      <img src="/blueprint_store_static/images/bps_logo.png" alt="Blueprint Store"/>
      <span>Blueprint Store</span>
    </div>

    <sl-input id="search" placeholder="Search titles & descriptions..." clearable pill>
      <sl-icon name="search" slot="prefix"></sl-icon>
    </sl-input>

    <sl-select id="sort" value="likes" hoist>
      <sl-option value="likes">Most liked</sl-option>
      <sl-option value="new">Newest</sl-option>
      <sl-option value="title">Title Aâ€“Z</sl-option>
    </sl-select>

    <sl-dropdown id="tagdd" hoist>
      <sl-button id="tagbtn" slot="trigger" caret class="plain" pill>All tags</sl-button>
      <sl-menu id="tagmenu"></sl-menu>
    </sl-dropdown>

    <sl-button id="refresh" class="plain" pill onclick="location.reload()">Refresh</sl-button>
  </div>
</header>

<main>
  <div class="banner"><img src="/blueprint_store_static/images/bps_banner.png" alt="Blueprint Store banner"></div>

  <div class="section-title" id="heading">All blueprints</div>
  <div id="list" class="cards-wrap"></div>
  <p id="empty">No blueprints matched.</p>
  <p id="error"></p>
  <div id="sentinel"></div>
</main>

<!-- creators footer -->
<footer id="creators-footer">
  <div id="creators-spin"></div>
</footer>

<script src="./app.js" defer></script>
</body>
</html>
